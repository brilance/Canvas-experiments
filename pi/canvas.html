<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	<title>untitled</title>
	<!--[if IE]><script src="excanvas.compiled.js"></script><![endif]-->
</head>

<body>
<h1>Digits of PI as a Line Graph</h1>
Number of places: <input type="text" id="places" value='100'/> (between 2 and 1000)<br/><br/>
<canvas id="line" width="1000" height="100"></canvas> <br/>
<canvas id="circles" width="500" height="500"></canvas>  

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.1/jquery.min.js"></script>
<script type="text/javascript">
	var pi = [3,1,4,1,5,9,2,6,5,3,5,8,9,7,9,3,2,3,8,4,6,2,6,4,3,3,8,3,2,7,9,5,0,2,8,8,4,1,9,7,1,6,9,3,9,9,3,7,5,1,0,5,8,2,0,9,7,4,9,4,4,5,9,2,3,0,7,8,1,6,4,0,6,2,8,6,2,0,8,9,9,8,6,2,8,0,3,4,8,2,5,3,4,2,1,1,7,0,6,7,9,8,2,1,4,8,0,8,6,5,1,3,2,8,2,3,0,6,6,4,7,0,9,3,8,4,4,6,0,9,5,5,0,5,8,2,2,3,1,7,2,5,3,5,9,4,0,8,1,2,8,4,8,1,1,1,7,4,5,0,2,8,4,1,0,2,7,0,1,9,3,8,5,2,1,1,0,5,5,5,9,6,4,4,6,2,2,9,4,8,9,5,4,9,3,0,3,8,1,9,6,4,4,2,8,8,1,0,9,7,5,6,6,5,9,3,3,4,4,6,1,2,8,4,7,5,6,4,8,2,3,3,7,8,6,7,8,3,1,6,5,2,7,1,2,0,1,9,0,9,1,4,5,6,4,8,5,6,6,9,2,3,4,6,0,3,4,8,6,1,0,4,5,4,3,2,6,6,4,8,2,1,3,3,9,3,6,0,7,2,6,0,2,4,9,1,4,1,2,7,3,7,2,4,5,8,7,0,0,6,6,0,6,3,1,5,5,8,8,1,7,4,8,8,1,5,2,0,9,2,0,9,6,2,8,2,9,2,5,4,0,9,1,7,1,5,3,6,4,3,6,7,8,9,2,5,9,0,3,6,0,0,1,1,3,3,0,5,3,0,5,4,8,8,2,0,4,6,6,5,2,1,3,8,4,1,4,6,9,5,1,9,4,1,5,1,1,6,0,9,4,3,3,0,5,7,2,7,0,3,6,5,7,5,9,5,9,1,9,5,3,0,9,2,1,8,6,1,1,7,3,8,1,9,3,2,6,1,1,7,9,3,1,0,5,1,1,8,5,4,8,0,7,4,4,6,2,3,7,9,9,6,2,7,4,9,5,6,7,3,5,1,8,8,5,7,5,2,7,2,4,8,9,1,2,2,7,9,3,8,1,8,3,0,1,1,9,4,9,1,2,9,8,3,3,6,7,3,3,6,2,4,4,0,6,5,6,6,4,3,0,8,6,0,2,1,3,9,4,9,4,6,3,9,5,2,2,4,7,3,7,1,9,0,7,0,2,1,7,9,8,6,0,9,4,3,7,0,2,7,7,0,5,3,9,2,1,7,1,7,6,2,9,3,1,7,6,7,5,2,3,8,4,6,7,4,8,1,8,4,6,7,6,6,9,4,0,5,1,3,2,0,0,0,5,6,8,1,2,7,1,4,5,2,6,3,5,6,0,8,2,7,7,8,5,7,7,1,3,4,2,7,5,7,7,8,9,6,0,9,1,7,3,6,3,7,1,7,8,7,2,1,4,6,8,4,4,0,9,0,1,2,2,4,9,5,3,4,3,0,1,4,6,5,4,9,5,8,5,3,7,1,0,5,0,7,9,2,2,7,9,6,8,9,2,5,8,9,2,3,5,4,2,0,1,9,9,5,6,1,1,2,1,2,9,0,2,1,9,6,0,8,6,4,0,3,4,4,1,8,1,5,9,8,1,3,6,2,9,7,7,4,7,7,1,3,0,9,9,6,0,5,1,8,7,0,7,2,1,1,3,4,9,9,9,9,9,9,8,3,7,2,9,7,8,0,4,9,9,5,1,0,5,9,7,3,1,7,3,2,8,1,6,0,9,6,3,1,8,5,9,5,0,2,4,4,5,9,4,5,5,3,4,6,9,0,8,3,0,2,6,4,2,5,2,2,3,0,8,2,5,3,3,4,4,6,8,5,0,3,5,2,6,1,9,3,1,1,8,8,1,7,1,0,1,0,0,0,3,1,3,7,8,3,8,7,5,2,8,8,6,5,8,7,5,3,3,2,0,8,3,8,1,4,2,0,6,1,7,1,7,7,6,6,9,1,4,7,3,0,3,5,9,8,2,5,3,4,9,0,4,2,8,7,5,5,4,6,8,7,3,1,1,5,9,5,6,2,8,6,3,8,8,2,3,5,3,7,8,7,5,9,3,7,5,1,9,5,7,7,8,1,8,5,7,7,8,0,5,3,2,1,7,1,2,2,6,8,0,6,6,1,3,0,0,1,9,2,7,8,7,6,6,1,1,1,9,5,9,0,9,2,1,6,4,2,0,1,9,8,9];
	
	$(document).ready(function(e){
		$("#places").keyup(redrawGraph);
		
		drawGraph(100);
	});
	
	function redrawGraph(e){
		var val = $(this).val();
		if (val > 0 && val <= 1000){
			drawGraph(val);
		}
	}
	
	function drawGraph(places){
		var canvas = document.getElementById('circles');
		var ctx = canvas.getContext('2d');
		ctx.clearRect(0,0,500,500);
		ctx.font = "14pt Helvetica";
		ctx.fillStyle = "#a60000";
		ctx.strokeStyle = "#cccccc";
		
		//each number has a distance from the center.  Set this up now
		//var lineDistance = (200/places)*10;
		//lineDistance = Math.min(lineDistance, 20);
		var lineDistance = 20;
		var numDist = [50];
		var val = 50;
		for (var i = 1; i < 10; i++){
			val += Math.round(lineDistance);
			numDist.push(val);
		}
		
		for (i = 0; i < 10; i++){
			
			ctx.beginPath();
			ctx.arc(250,250,numDist[i],0,Math.PI*2,true); // Outer circle
			ctx.stroke();
			
			ctx.fillText(i, 250, 250-numDist[i]+14);
		}

		ctx.translate(250,250);
		ctx.save();
		ctx.strokeStyle = "#123456";
		
		var distance = numDist[pi[0]];
		ctx.beginPath();
		ctx.moveTo(0,-distance);
		ctx.rotate(Math.PI*2 / places);
		for (var i = 1; i < places; i++){
			var distance = numDist[pi[i]];
			ctx.lineTo(0,-distance);
			ctx.save();
			ctx.rotate(Math.PI*2 / places);
		}
		ctx.closePath();
		ctx.stroke();
		
		ctx.translate(-250,-250);
		ctx.save();
		
		var xSpacing = 1000/ places;
		//var sLineDistance = xSpacing;
		//sLineDistance = Math.min(sLineDistance, 10);
		var sLineDistance = 10;
		var numDist2 = [90];
		var val = numDist2[0];
		for (var i = 1; i < 10; i++){
			val -= Math.round(sLineDistance);
			numDist2.push(val);
		}

		var line = document.getElementById('line');
		var ctx2 = line.getContext('2d');
		ctx2.font = "10pt Helvetica";
		ctx2.fillStyle = "#a60000";
		ctx2.clearRect(0,0,1000,100); 
		ctx2.save();
		
		ctx2.strokeStyle = "#cccccc";
		for (var i = 0; i < 10; i++){
			ctx2.beginPath();
			ctx2.moveTo(0,numDist2[i]);
			ctx2.lineTo(1000, numDist2[i]);
			ctx2.stroke();
			ctx2.closePath();
			ctx2.fillText(i, 0, numDist2[i]+10);
		}
		
		var distance = numDist2[pi[0]];
		var x = 0;
		ctx2.strokeStyle = "#123456";
		ctx2.beginPath();
		ctx2.moveTo(0, distance);
		for (var i = 1; i < places; i++){
			x += xSpacing;
			var distance = numDist2[pi[i]];
			ctx2.lineTo(x,distance);
		}
		ctx2.stroke();
		ctx2.save();
	}
</script>
</body>
</html>
