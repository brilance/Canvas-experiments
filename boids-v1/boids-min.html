<body><canvas id=a height=550 width=550></canvas></body><script>var i=[],j=document.getElementById("a").getContext("2d"),m=Math.random,n=Math.abs,s,t,u;for(s=500;s--;){t=100+m()*300;u=100+m()*300;j.fillRect(t,u,2,2);i.push([t,u,0,0])}setInterval(v,50);
function v(){var o=0,p=0,q=0,r=0,c,g,d,b,f,a,e,k,l,h=i.length;j.fillStyle="#adf";j.fillRect(0,0,550,550);j.fillStyle="#123";for(f=h;f--;){a=i[f];o+=a[0];p+=a[1];q+=a[2];r+=a[3]}o/=h;p/=h;q/=h;r/=h;for(f=h;f--;){c=i[f];a=c[0];e=c[1];k=c[2];l=c[3];c=[0,0];c[0]=(o-a)/100;c[1]=(p-e)/100;g=[0,0];for(d=h;d--;)if(d!=f){b=i[d];if(n(b[0]-a)<30&&n(b[1]-e)<30){g[0]=(g[0]-(b[0]-a))/30;g[1]=(g[1]-(b[1]-e))/30}}d=[0,0];d[0]=(q-k)/8;d[1]=(r-l)/8;b=[0,0];if(a<10)b[0]=10;else if(a>540)b[0]=-10;if(e<10)b[1]=10;else if(e>
540)b[1]=-10;k+=(c[0]+g[0]+d[0]+b[0])/10;l+=(c[1]+g[1]+d[1]+b[1])/10;a+=k;e+=l;j.fillRect(a,e,2,2);i[f]=[a,e,k,l]}};</script>